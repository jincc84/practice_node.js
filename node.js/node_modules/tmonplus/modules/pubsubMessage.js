/**
 * =======================================
 * Redis로 Publish/Subscribe 되는 메시지 정의
 * =======================================
 * 
 * this._message 형식
 * 
 * title : 메시지 타이틀 (보통 전달되는 이벤트명)
 * content : 메시지 몸체 (Object)
 * 
 */

/**
 * PubSubMessage 생성자
 */
var PubSubMessage = module.exports = function() {
    this._message = {};
};

/**
 * PubSubMessage 초기화
 * 
 * @param {Object} title 메시지 타이틀
 * @param {Object} content 메시지 몸체
 */
PubSubMessage.prototype.initializeProperties = function(title, content) {
    this._message.title = title;
    this._message.content = content;
};

/**
 * PubSubMessage를 String 으로 초기화
 * 
 * @param {Object} messageString serialize된 message 
 */
PubSubMessage.prototype.initializeFromText = function(messageString) {
    this._message = JSON.parse(messageString);
};

/**
 * Message(JSON)를 String으로 변환해서 반환
 */
PubSubMessage.prototype.getSerializedMessage = function() {
    return JSON.stringify(this._message);
};

/**
 * Message(JSON)를 Object로 반환
 */
PubSubMessage.prototype.getObjectMessage = function() {
    return this._message;
};